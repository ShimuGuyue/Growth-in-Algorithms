# 题目描述

[E-小芳的排列构造_牛客周赛 Round 111](https://ac.nowcoder.com/acm/contest/117763/E)

![image-20250929211742812](%E5%B0%8F%E8%8A%B3%E7%9A%84%E6%8E%92%E5%88%97%E6%9E%84%E9%80%A0.assets/image-20250929211742812.png)

# 解题思路

对于任意排列，**最大的数**一定同时满足“大于其左侧所有的数”和“大于其右侧所有的数”，对排列总权值的**贡献值为 $2$**；**第二大的数**一定满足两种情况之一，因为其一侧有一个最大的数导致该方向贡献为 $0$，而另一侧没有比它更大的数导致该方向贡献为 $1$，**总贡献为 $1$**；对于**其他所有数**，其一侧一定有一个比他大的数导致该方向贡献为 $0$，在剩下的所有数中仍至少有一个比它大的数，因此根据数的位置，另一侧的贡献可能为 $1$ 或 $0$，**总贡献值为 $1$ 或 $0$**。

考虑无解的情况，排列的最大权值为 $\sum_{i=1}^{n} i + n = \frac{n \times (n + 1)}{2} + n$，最小权值为 $n \times 2 + (n - 1) = 3n - 1$。若题目所给 $k$ 值不在该区间内则无解。

对于有解的情况，先将最大的两个数 $A, B$ 放好作为后续放置其它数的基准。然后算出相较于最大权值，需要减少多少权值 **$(dif)$** 可以得到目标权值。然后根据 $dif$，从 $[1, n - 2]$ 的区间中选取和为 $dif$ 的一部分数放在 $A, B$ 之间，从总权值中减去对应的权值，然后将剩下的数放在 $A, B$ 外侧，得到构造结果。

# 代码实现

![image-20250929211930319](%E5%B0%8F%E8%8A%B3%E7%9A%84%E6%8E%92%E5%88%97%E6%9E%84%E9%80%A0.assets/image-20250929211930319.png)

